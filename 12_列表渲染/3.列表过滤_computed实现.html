<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>列表过滤_computed实现</title>
		<script type="text/javascript" src="../js/vue.js"></script>
	</head>
	<body>
		<!-- 准备好一个容器-->
		<div id="root">
			<input type="text" placeholder="请输入名字" v-model="keyWord">
			<ul>
				<li :key="item.id" v-for="(item,index) in fmtPersons">{{item.name}} -- {{item.age}} -- {{item.sex}}</li>
			</ul>
		</div>
	</body>

	<script type="text/javascript">
		Vue.config.productionTip = false

		new Vue({
			el:'#root',
			data:{
				keyWord:'',
				persons:[ //原始人员列表
					{id:'001',name:'马冬梅',age:19,sex:'女'},
					{id:'002',name:'周冬雨',age:18,sex:'女'},
					{id:'003',name:'周杰伦',age:21,sex:'男'},
					{id:'004',name:'温兆伦',age:20,sex:'男'}
				],
			},
			computed:{
				fmtPersons(){
                    //todo get什么时候会被调用？1.有人读取fullName的时候; 2.依赖的数据发生变化时
					return this.persons.filter((p)=>{
                        //TODO indexOf() 方法返回调用它的 String 对象中第一次出现的指定值的索引，
                        // 从 fromIndex 处进行搜索。如果未找到该值，则返回 -1。
                        //		也就是返回的是name中有value值的 那些项
						return p.name.indexOf(this.keyWord) !== -1
					})
				}
			}
		})
	</script>
</html>